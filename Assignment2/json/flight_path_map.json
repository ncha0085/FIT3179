{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 800,
  "height": 450,
  "title": "Domestic Flights",
  "projection": {"type": "mercator"},
  "layer": [
    {
      "data": {
        "name": "australia_map",
        "url": "https://raw.githubusercontent.com/ncha0085/FIT3179/main/Assignment2/json/ne_50m_admin_0_countries.topojson.json",
        "format": {"type": "topojson", "feature": "ne_50m_admin_0_countries"}
      },
      "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
    },
    {
      "data": {
        "name": "dom_citypairs_data",
        "url": "https://raw.githubusercontent.com/ncha0085/FIT3179/refs/heads/main/Assignment2/data/dom_citypairs.csv"
      },
      "mark": {"type": "rule"},
      "encoding": {
        "longitude": {"field": "Longitude_City1", "type": "quantitative"},
        "latitude": {"field": "Latitude_City1", "type": "quantitative"},
        "longitude2": {"field": "Longitude_City2", "type": "quantitative"},
        "latitude2": {"field": "Latitude_City2", "type": "quantitative"},
        "size": {
          "field": "Passenger_Trips",
          "type": "quantitative",
          "title": "Flights between cities"
        },
        "color": {
          "field": "Passenger_Trips",
          "type": "quantitative",
          "title": "Flights between cities",
          "scale": {"scheme": "bluegreen"}
        },
        "tooltip": [
          {"field": "City1", "type": "nominal", "title": "Origin City"},
          {"field": "City2", "type": "nominal", "title": "Destination City"},
          {"field": "Passenger_Trips", "type": "quantitative", "title": "No. of Flights"}
        ]
      }
    },
    {
      "data": {
        "url": "https://raw.githubusercontent.com/ncha0085/FIT3179/refs/heads/main/Assignment2/data/aus_city_coordinates.csv"
      },
      "mark": {
        "type": "text",
        "align": "left",
        "baseline": "bottom",
        "dx": 4,
        "fontSize": 16,
        "color": "black"
      },
      "encoding": {
        "longitude": {"field": "lng", "type": "quantitative"},
        "latitude": {"field": "lat", "type": "quantitative"},
        "text": {"field": "city", "type": "nominal"}
      },
      "transform": [
    {
      "aggregate": [],
      "groupby": ["city", "lat", "lng"]
    }
  ]
    } 
  ]
}
